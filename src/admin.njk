---
layout: base
title: "Draft approvals"
permalink: "/admin/index.html"
---
<section>
  <h2 class="section-title">Draft control room</h2>
  <p class="admin-note">Private view intended only for Reilly. Drafts listed here never publish until you run the approval command.</p>

  {% if drafts | length == 0 %}
    <div class="empty-state">
      <p>No drafts in queue.</p>
    </div>
  {% else %}
    <div class="drafts-stack">
      {% for draft in drafts %}
        <article class="draft-card">
          <header>
            <p class="draft-tag">Draft</p>
            <h3>{{ draft.data.title or draft.filename }}</h3>
            <p class="post-meta">Last updated {{ draft.updatedFormatted }}</p>
          </header>
          {% if draft.data.description %}
            <p>{{ draft.data.description }}</p>
          {% endif %}
          {% if draft.statusBlock %}
            <p class="status-pill">{{ draft.statusBlock }}</p>
          {% endif %}
          <details>
            <summary>Preview content</summary>
            <pre>{{ draft.content | safe }}</pre>
          </details>
          <div class="draft-actions">
            <button class="btn approve" data-command="npm run approve -- {{ draft.filename }}">Approve â†’ Publish</button>
            <button class="btn ghost" data-command="npm run decline -- {{ draft.filename }}">Decline / archive</button>
          </div>
        </article>
      {% endfor %}
    </div>
  {% endif %}
</section>

<script src="{{ site.basePath }}assets/admin.js" type="module"></script>

<section>
  <h2 class="section-title">Published posts</h2>
  {% if postsList | length == 0 %}
    <div class="empty-state">
      <p>No posts yet.</p>
    </div>
  {% else %}
    <div class="drafts-stack">
      {% for post in postsList %}
        <article class="draft-card">
          <header>
            <p class="draft-tag">Live</p>
            <h3>{{ post.title }}</h3>
            <p class="post-meta">{{ post.date | formatDate('MMM d, yyyy') }}</p>
          </header>
          {% if post.description %}
            <p>{{ post.description }}</p>
          {% endif %}
          <div class="draft-actions post-actions">
            <button class="btn ghost" data-command="npm run remove-post -- {{ post.filename }}">Archive / delete</button>
          </div>
        </article>
      {% endfor %}
    </div>
  {% endif %}
</section>

